webpackJsonp([13],{"30hw":function(e,t){},"9AZ7":function(e,t){},UPrN:function(e,t){},WMYL:function(e,t){},zUQ3:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("4YfN"),l=a.n(i),o=a("w4pF"),s={name:"tabs",data:function(){return{request:new o.a,loading:!1,supplierList:[],elPagination:{pageNo:1,pageSize:20},repayListPagination:{pageNo:1,pageSize:20},waitEdit:{},editRules:{supplierName:[{type:"string",required:!0,message:"请输入供应商全程",trigger:"change"}],shortName:[{type:"string",required:!0,message:"请输入供应商简称",trigger:"change"}],contact:[{type:"string",required:!0,message:"请输入联系人姓名",trigger:"change"}],telephone:[{type:"string",required:!0,message:"请请输入联系人电话",trigger:"change"}],address:[{type:"string",required:!0,message:"请输入地址",trigger:"change"}]},newEdit:{},repay:{},repayList:[],repayListFooter:{},total:0,dialogFormVisible:!1,dialogFormVisible1:!1,dialogFormVisible2:!1,dialogTableVisible:!1}},created:function(){this.fetchSupplier()},computed:{listModel:function(){return l()({},this.elPagination)},repayModel:function(){return{supplierId:this.repay.supplierId,payAmount:this.repay.payAmount}},repayListModel:function(){return{supplierId:this.repayListFooter.supplierId}}},methods:{clickDelete:function(e){this.deleteSupplier(e),this.fetchSupplier()},clickEdit:function(e){this.waitEdit=e,this.dialogFormVisible=!0},submitEdit:function(){var e=this;this.$refs.waitEdit.validate(function(t){t&&(e.editSupplier(),e.fetchSupplier(),e.dialogFormVisible=!1)})},submitNew:function(){var e=this;this.$refs.newEdit.validate(function(t){t&&(e.addSupplier(),e.dialogFormVisible1=!1)})},clickRepay:function(e){this.repay=e,this.dialogFormVisible2=!0},submitRepay:function(e){this.repayment(),this.fetchSupplier(),this.dialogFormVisible2=!1},clickRepayList:function(e){this.repayListFooter=e,this.repaymentRecordList(),this.dialogTableVisible=!0},handleSizeChange:function(e){this.elPagination.pageSize=e,this.fetchSupplier()},handleCurrentChange:function(e){this.elPagination.pageNo=e,this.fetchSupplier()},fetchSupplier:function(){var e=this;this.request.fetchSupplier(this.listModel).then(function(t){200==t.code&&(e.supplierList=t.list,e.total=t.totalRows)})},deleteSupplier:function(e){var t=this;this.request.deleteSupplier({id:e}).then(function(e){200==e.code&&t.$message.success("删除成功！")})},editSupplier:function(){var e=this;this.request.editSupplier(this.waitEdit).then(function(t){200==t.code&&e.$message.success("修改成功！")})},addSupplier:function(){var e=this;this.request.addSupplier(this.newEdit).then(function(t){200==t.code?(e.$message.success("添加成功！"),e.fetchSupplier()):e.$message.warning(t.msg)})},repayment:function(){var e=this;this.request.repayment(this.repayModel).then(function(t){200==t.code?e.$message.success("操作成功！"):e.$message.warning(t.msg)})},repaymentRecordList:function(){var e=this;this.request.repaymentRecordList(this.repayListModel).then(function(t){200==t.code&&(e.repayList=t.list)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"primary",icon:"search",disabled:""},on:{click:function(t){e.dialogFormVisible1=!0}}},[e._v("新增供应商")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.supplierList,border:""}},[a("el-table-column",{attrs:{prop:"supplierName",label:"供应商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"shortName",label:"简称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contact",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"telephone",label:"电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_info",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",icon:"search"},on:{click:function(a){return e.clickEdit(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text",icon:"search"},on:{click:function(a){return e.clickDelete(t.row.id)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"还款记录",visible:e.dialogTableVisible,width:"800px"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.repayList,height:"200"}},[a("el-table-column",{attrs:{property:"payAmount",label:"金额",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"操作人",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"payTime",label:"还款时间",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"name",label:"备注",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"address",label:"地址"}})],1),e._v(" "),a("div",[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"1"}},[e._v("\n                    供应商："+e._s(e.repayListFooter.supplierName)+"\n                ")]),e._v(" "),a("div",{staticStyle:{flex:"1"}},[e._v("\n                    联系人："+e._s(e.repayListFooter.contact)+"\n                ")])]),e._v(" "),a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"1"}},[e._v("\n                    联系电话："+e._s(e.repayListFooter.telephone)+"\n                ")]),e._v(" "),a("div",{staticStyle:{flex:"1"}},[e._v("\n                    微信号："+e._s(e.repayListFooter.wechatId)+"\n                ")])])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"修改供应商",width:"600px",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"waitEdit",attrs:{model:e.waitEdit,rules:e.editRules}},[a("el-form-item",{attrs:{prop:"supplierName",label:"供应商","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.waitEdit.supplierName,callback:function(t){e.$set(e.waitEdit,"supplierName",t)},expression:"waitEdit.supplierName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"shortName",label:"简称","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.waitEdit.shortName,callback:function(t){e.$set(e.waitEdit,"shortName",t)},expression:"waitEdit.shortName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"contact",label:"联系人","label-width":"100px"},model:{value:e.waitEdit.contact,callback:function(t){e.$set(e.waitEdit,"contact",t)},expression:"waitEdit.contact"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.waitEdit.contact,callback:function(t){e.$set(e.waitEdit,"contact",t)},expression:"waitEdit.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"telephone",label:"联系电话","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.waitEdit.telephone,callback:function(t){e.$set(e.waitEdit,"telephone",t)},expression:"waitEdit.telephone"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"wechatId",label:"微信号","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.waitEdit.wechatId,callback:function(t){e.$set(e.waitEdit,"wechatId",t)},expression:"waitEdit.wechatId"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"address",label:"供应商地址","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.waitEdit.address,callback:function(t){e.$set(e.waitEdit,"address",t)},expression:"waitEdit.address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitEdit}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"新增供应商",width:"600px",visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("el-form",{ref:"newEdit",attrs:{model:e.newEdit,rules:e.editRules}},[a("el-form-item",{attrs:{prop:"supplierName",label:"供应商","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.newEdit.supplierName,callback:function(t){e.$set(e.newEdit,"supplierName",t)},expression:"newEdit.supplierName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"shortName",label:"简称","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.newEdit.shortName,callback:function(t){e.$set(e.newEdit,"shortName",t)},expression:"newEdit.shortName"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"contact",label:"联系人","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.newEdit.contact,callback:function(t){e.$set(e.newEdit,"contact",t)},expression:"newEdit.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"telephone",label:"联系电话","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.newEdit.telephone,callback:function(t){e.$set(e.newEdit,"telephone",t)},expression:"newEdit.telephone"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"address",label:"供应商地址","label-width":"100px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.newEdit.address,callback:function(t){e.$set(e.newEdit,"address",t)},expression:"newEdit.address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitNew}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"供应商还款",width:"600px",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",[a("el-form-item",{attrs:{label:"供应商","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.repay.supplierName,callback:function(t){e.$set(e.repay,"supplierName",t)},expression:"repay.supplierName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"应付欠款","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off",disabled:""},model:{value:e.repay.contact,callback:function(t){e.$set(e.repay,"contact",t)},expression:"repay.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"还款金额","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.repay.payAmount,callback:function(t){e.$set(e.repay,"payAmount",t)},expression:"repay.payAmount"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitRepay}},[e._v("确 定")])],1)],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.elPagination.pageNo,"page-sizes":[20,30,40],"page-size":e.elPagination.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.elPagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.elPagination,"pageNo",t)}}})],1)],1)},staticRenderFns:[]};var r={name:"tabs",data:function(){return{request:new o.a,warehouseList:[],edit:{},loading:!1,add:{},status:[{label:"启用",value:"1"},{label:"未启用",value:"0"}],elPagination:{pageNo:1,pageSize:20},elWarehousePagination:{pageNo:1,pageSize:20},warehouseGoodsTypes:0,editRules:{name:[{type:"string",required:!0,message:"请输入仓库名",trigger:"change"}],num:[{type:"string",required:!1,message:"请输入仓库编码",trigger:"change"}],contact:[{type:"string",required:!0,message:"请输入联系人电话",trigger:"change"}]},total:0,checkedId:"",input:"",inventoryList:[],checkedStuck:{},dialogFormVisible1:!1,dialogFormVisible2:!1,dialogTableVisible3:!1}},created:function(){this._fetchWarehouse()},computed:{goodsModel:function(){return l()({warehouseId:this.checkedId,queryParams:this.input},this.elWarehousePagination)}},methods:{editWarehouse:function(e){this.edit=e,this.dialogFormVisible2=!0},subEditWarehouse:function(){var e=this;this.$refs.edit.validate(function(t){t&&(e._editWarehouse(),e.dialogFormVisible2=!1)})},changeStatus:function(e){this.edit=e,this._editWarehouse()},viewInventory:function(e,t){this.dialogTableVisible3=!0,this.checkedId=e,this.checkedStuck=t,this._findStorageGoodsPage()},fetchGoods:function(){this._findStorageGoodsPage()},subAddWarehouse:function(){var e=this;this.$refs.add.validate(function(t){t&&(e._addWarehouse(),e.dialogFormVisible1=!1)})},deleteWarehouse:function(e){var t=this;this.$utils.confirm(this,"您将删除仓库，是否继续？").then(function(){t._deleteWarehouse(e)})},handleWareCurrentChange:function(e){this.elWarehousePagination.pageNo=e,this._findStorageGoodsPage()},handleWareSizeChange:function(e){this.elWarehousePagination.pageSize=e,this._findStorageGoodsPage()},handleSizeChange:function(e){this.elPagination.pageSize=e,this._fetchWarehouse()},handleCurrentChange:function(e){this.elPagination.pageNo=e,this._fetchWarehouse()},_fetchWarehouse:function(){var e=this;this.request.fetchWarehouse(this.elPagination).then(function(t){200==t.code&&(e.warehouseList=t.list,e.total=t.totalRows)})},_editWarehouse:function(){var e=this;this.request.editWarehouse(this.edit).then(function(t){200==t.code?(e.$message.success("修改成功！"),e._fetchWarehouse()):e.$message.error(t.msg)})},_deleteWarehouse:function(e){var t=this;this.request.deleteWarehouse({id:e}).then(function(e){200==e.code?(t.$message.success("删除成功！"),t._fetchWarehouse()):t.$message.error(e.msg)})},_findStorageGoodsPage:function(){var e=this;this.request.findStorageGoodsPage(this.goodsModel).then(function(t){200==t.code?(e.inventoryList=t.list,e.warehouseGoodsTypes=t.totalRows,e.input=""):(e.inventoryList=[],e.warehouseGoodsTypes=0)})},_addWarehouse:function(){var e=this;this.request.addWarehouse(this.add).then(function(t){200==t.code&&(e.$message.success("添加成功！"),e._fetchWarehouse())})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:function(t){e.dialogFormVisible1=!0}}},[e._v("新增仓库")])],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.warehouseList,border:""}},[a("el-table-column",{attrs:{prop:"name",label:"仓库名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"warehouseNum",label:"仓库编码"}}),e._v(" "),a("el-table-column",{attrs:{prop:"manager",label:"联系人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"contact",label:"联系电话"}}),e._v(" "),a("el-table-column",{attrs:{prop:"address",label:"仓库地址"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_info",label:"是否启用"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tooltip",[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否","active-value":"1","inactive-value":"0"},on:{change:function(a){return e.changeStatus(t.row)}},model:{value:t.row.status,callback:function(a){e.$set(t.row,"status",a)},expression:"scope.row.status"}})],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"order_info",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.editWarehouse(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.deleteWarehouse(t.row.id)}}},[e._v("删除")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.viewInventory(t.row.id,t.row)}}},[e._v("查看库存")])]}}])})],1),e._v(" "),a("el-dialog",{attrs:{title:"新增仓库",width:"600px",visible:e.dialogFormVisible1},on:{"update:visible":function(t){e.dialogFormVisible1=t}}},[a("el-form",{ref:"add",attrs:{model:e.add,rules:e.editRules}},[a("el-form-item",{attrs:{prop:"name",label:"仓库名称","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.add.name,callback:function(t){e.$set(e.add,"name",t)},expression:"add.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"contact",label:"联系电话","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.add.contact,callback:function(t){e.$set(e.add,"contact",t)},expression:"add.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manager",label:"管理人员","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.add.manager,callback:function(t){e.$set(e.add,"manager",t)},expression:"add.manager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"status",label:"仓库状态","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",width:"100%"},model:{value:e.add.status,callback:function(t){e.$set(e.add,"status",t)},expression:"add.status"}},e._l(e.status,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"address",label:"仓库地址","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.add.address,callback:function(t){e.$set(e.add,"address",t)},expression:"add.address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.subAddWarehouse}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"编辑仓库",width:"600px",visible:e.dialogFormVisible2},on:{"update:visible":function(t){e.dialogFormVisible2=t}}},[a("el-form",{ref:"edit",attrs:{model:e.edit,rules:e.editRules}},[a("el-form-item",{attrs:{prop:"name",label:"仓库名称","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit.name,callback:function(t){e.$set(e.edit,"name",t)},expression:"edit.name"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"contact",label:"联系电话","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit.contact,callback:function(t){e.$set(e.edit,"contact",t)},expression:"edit.contact"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"manager",label:"管理人员","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit.manager,callback:function(t){e.$set(e.edit,"manager",t)},expression:"edit.manager"}})],1),e._v(" "),a("el-form-item",{attrs:{prop:"status",label:"仓库状态","label-width":"80px"}},[a("el-select",{attrs:{placeholder:"请选择",width:"100%"},model:{value:e.edit.status,callback:function(t){e.$set(e.edit,"status",t)},expression:"edit.status"}},e._l(e.status,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{prop:"address",label:"仓库地址","label-width":"80px"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.edit.address,callback:function(t){e.$set(e.edit,"address",t)},expression:"edit.address"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible2=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.subEditWarehouse}},[e._v("确 定")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"库存列表",visible:e.dialogTableVisible3,width:"1000px"},on:{"update:visible":function(t){e.dialogTableVisible3=t}}},[a("el-table",{attrs:{data:e.inventoryList,"max-height":"500"}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{property:"goodsName",label:"商品名",width:"150"}}),e._v(" "),a("el-table-column",{attrs:{property:"attr",label:"规格",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"stockNum",label:"库存",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"unit",label:"单位"}}),e._v(" "),a("el-table-column",{attrs:{property:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{property:"amount",label:"金额"}})],1),e._v(" "),a("div",[a("div",{staticStyle:{display:"flex"}},[a("div",{staticStyle:{flex:"1"}},[e._v("\n                    仓库名称："+e._s(e.checkedStuck.name)+"\n                ")]),e._v(" "),a("div",{staticStyle:{flex:"1"}},[e._v("\n                    联系人："+e._s(e.checkedStuck.manager)+"\n                ")])]),e._v(" "),a("div",{staticStyle:{display:"flex","margin-top":"10px"}},[a("div",{staticStyle:{flex:"1"}},[e._v("\n                    联系电话："+e._s(e.checkedStuck.contact)+"\n                ")]),e._v(" "),a("div",{staticStyle:{flex:"1"}},[e._v("\n                    地址："+e._s(e.checkedStuck.address)+"\n                ")]),e._v(" "),a("div",{staticStyle:{flex:"1"}},[a("el-pagination",{attrs:{layout:"prev, pager, next","page-size":e.elWarehousePagination.pageSize,"page-no":e.elWarehousePagination.pageNo,total:50},on:{"size-change":e.handleWareSizeChange,"current-change":e.handleWareCurrentChange}})],1)])])],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.elPagination.pageNo,"page-sizes":[20,30,40],"page-size":e.elPagination.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.elPagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.elPagination,"pageNo",t)}}})],1)],1)},staticRenderFns:[]};var u={data:function(){return{request:new o.a,elPagination:{pageNo:1,pageSize:20},goodsTotal:0,goodsPage:{pageNo:1,pageSize:20},procureNum:0,total:0,date:[],loading:!1,procurementList:[],purchList:[],dialogTableVisible:!1,checkedItem:{},payType:this.$dic.payType,stockStatusOp:this.$dic.stockStatusOp}},created:function(){this._fetchProcurement()},computed:{},methods:{handleSizeChange:function(e){this.elPagination.pageSize=e,this._fetchProcurement()},handleCurrentChange:function(e){this.elPagination.pageNo=e,this._fetchProcurement()},handleSizeChange2:function(e){this.goodsPage.pageSize=e,this.fetchPurchaseDetail()},handleCurrentChange2:function(e){this.goodsPage.pageNo=e,this.fetchPurchaseDetail()},checkOrder:function(){this._fetchProcurement()},deleteOrder:function(e){var t=this;this.$confirm("您确认要删除采购单吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t._deleteProcurement({id:e.id})})},enterStock:function(e){var t=this;this.$confirm("您确认要将该采购单入库？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t._enterStock({id:e.id})})},handeleDetail:function(e){this.dialogTableVisible=!0,this.checkedItem=e,this.purchList=e.detailList,this.procureNum=e.procureNum,this.fetchPurchaseDetail()},_fetchProcurement:function(){var e=this,t=this.date[0],a=this.date[1];this.request.fetchProcurement(l()({beginTime:t,endTime:a},this.elPagination)).then(function(t){200==t.code?(e.procurementList=t.list,e.total=t.totalRows):(e.procurementList=[],e.$message.warning(t.msg))})},fetchPurchaseDetail:function(){var e=this;this.request.fetchPurchaseDetail(l()({procureNum:this.procureNum},this.goodsPage)).then(function(t){200===t.code?(e.purchList=t.list,e.goodsTotal=t.totalRows):(e.purchList=[],e.goodsTotal=0,e.$message.warning(t.msg))})},_deleteProcurement:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.request.deleteProcurement(t).then(function(t){200==t.code?(e.$message.success("删除成功！"),e._fetchProcurement()):e.$message.warning(t.msg)})},_enterStock:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.request.enterStock(t).then(function(t){200==t.code?(e.$message.success("入库成功！"),e._fetchProcurement()):e.$message.warning(t.msg)})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"container"},[a("div",{staticClass:"handle-box"},[a("div",{staticStyle:{display:"inline"}},[a("span",{staticClass:"demonstration"},[e._v("订单日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("el-button",{attrs:{type:"primary",icon:"search"},on:{click:e.checkOrder}},[e._v("查询")])],1),e._v(" "),a("div",{staticClass:"handle-box"},[a("router-link",{attrs:{to:"/wareHouse/newPurchase"}},[a("el-button",{attrs:{type:"primary",icon:"search"}},[e._v("新增进货")])],1)],1)]),e._v(" "),a("div",{staticClass:"container marginTop"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.procurementList,border:"",height:"500"}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{prop:"procureNum",label:"单据编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"supplierName",label:"供应商"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sumAmount",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"num",label:"数量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"totalAmount",label:"合计金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payAmount",label:"实付金额"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stockStatus",label:"入库状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(e.stockStatusOp[+t.row.stockStatus].label)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"warehouseName",label:"仓库"}}),e._v(" "),a("el-table-column",{attrs:{prop:"opTime",label:"进货时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"order_info",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.handeleDetail(t.row)}}},[e._v("查看详情")]),e._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.deleteOrder(t.row)}}},[e._v("删除")]),e._v(" "),"0"===t.row.stockStatus?a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.enterStock(t.row)}}},[e._v("入库")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.elPagination.pageNo,"page-sizes":[20,30,40],"page-size":e.elPagination.pageSize,layout:"sizes, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){return e.$set(e.elPagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.elPagination,"pageNo",t)}}})],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"采购明细",visible:e.dialogTableVisible,width:"1000px"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-row",[a("el-col",{attrs:{span:12}},[e._v("\n                供应商："+e._s(e.checkedItem.supplierName)+"\n            ")]),e._v(" "),a("el-col",{attrs:{span:12}},[e._v("\n                操作时间："+e._s(e.checkedItem.opTime)+"\n            ")])],1),e._v(" "),a("el-table",{attrs:{data:e.purchList,height:"400"}},[a("el-table-column",{attrs:{type:"index"}}),e._v(" "),a("el-table-column",{attrs:{property:"goodsName",label:"商品名",width:"200"}}),e._v(" "),a("el-table-column",{attrs:{property:"modelName",label:"规格",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"goodsNum",label:"数量",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{property:"unit",label:"单位"}}),e._v(" "),a("el-table-column",{attrs:{property:"price",label:"单价"}}),e._v(" "),a("el-table-column",{attrs:{property:"sumAmount",label:"金额"}})],1),e._v(" "),a("div",[a("el-row",[a("el-col",{attrs:{span:8}},[e._v("\n                    总计金额："+e._s(e.checkedItem.totalAmount)+"\n                ")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v("\n                    合计金额："+e._s(e.checkedItem.totalAmount)+"\n                ")]),e._v(" "),a("el-col",{attrs:{span:8}},[e._v("\n                    实付金额："+e._s(e.checkedItem.payAmount)+"\n                ")])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[e._v("\n                    备注信息："+e._s(e.checkedItem.bizNote)+"\n                ")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","current-page":e.goodsPage.pageNo,"page-sizes":[20,30,40],"page-size":e.goodsPage.pageSize,layout:"sizes, prev, pager, next",total:e.goodsTotal},on:{"size-change":e.handleSizeChange2,"current-change":e.handleCurrentChange2,"update:currentPage":function(t){return e.$set(e.goodsPage,"pageNo",t)},"update:current-page":function(t){return e.$set(e.goodsPage,"pageNo",t)}}})],1)])],1)],1)],1)],1)},staticRenderFns:[]};var p={name:"tabs",components:{vSupplier:a("C7Lr")(s,n,!1,function(e){a("WMYL")},"data-v-6c4fd5da",null).exports,vWarehouse:a("C7Lr")(r,c,!1,function(e){a("UPrN")},"data-v-69d89582",null).exports,vGoodsProcurement:a("C7Lr")(u,d,!1,function(e){a("30hw")},"data-v-074eaf00",null).exports},data:function(){return{message:"first"}},methods:{},computed:{}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-tabs",{model:{value:e.message,callback:function(t){e.message=t},expression:"message"}},[a("el-tab-pane",{attrs:{label:"商品采购",name:"first"}},["first"===e.message?a("v-goods-procurement"):e._e()],1),e._v(" "),a("el-tab-pane",{attrs:{label:"供应商管理",name:"second"}},["second"===e.message?a("v-supplier"):e._e()],1),e._v(" "),a("el-tab-pane",{attrs:{label:"仓库管理",name:"third"}},["third"===e.message?a("v-warehouse"):e._e()],1)],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(p,h,!1,function(e){a("9AZ7")},"data-v-2a5cc520",null);t.default=m.exports}});