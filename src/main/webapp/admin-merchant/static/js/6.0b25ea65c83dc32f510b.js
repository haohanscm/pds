webpackJsonp([6],{GTy2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("Yarq"),a=i.n(s),n=i("AA3o"),r=i.n(n),o=i("xSur"),c=i.n(o),d=i("UzKs"),l=i.n(d),v=i("Y7Ml"),u=i.n(v),h=function(t){function e(){return r()(this,e),l()(this,(e.__proto__||a()(e)).call(this))}return u()(e,t),c()(e,[{key:"overview",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.post("/f/pds/api/admin/statistical/overview",t)}},{key:"statisCurve",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.post("/f/pds/api/admin/statistical/statisCurve",t)}},{key:"goodsTopN",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.post("/f/pds/api/admin/statistical/goodsTopN",t)}},{key:"categoryPercent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.post("/f/pds/api/admin/statistical/categoryPercent",t)}},{key:"orderDeal",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.post("/f/pds/api/admin/statistical/orderDeal",t)}},{key:"briefReport",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.post("/f/pds/api/admin/statistical/briefReport",t)}}]),e}(i("FdFV").a),m=i("5YEj"),f=i.n(m),_={data:function(){return{request:new h,seriesData:[{name:"单品销售",type:"bar",barWidth:"40%",data:[]}],xAxisData:[{type:"category",data:[],axisTick:{alignWithLabel:!0}}]}},watch:{},mounted:function(){this.goodsTopN()},methods:{initChart:function(){this.chart=f.a.init(document.getElementById("aaa")),this.chart.clear(),this.chart.setOption({title:{text:"单品销量top5"},color:["#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},axis:{axisLabel:"0"},xAxis:this.xAxisData,yAxis:[{type:"value"}],series:this.seriesData})},goodsTopN:function(){var t=this;this.request.goodsTopN({dateOffset:30,opt:1,limitNum:5}).then(function(e){if(200===e.code){var i=[],s=[];e.ext.forEach(function(t){i.push(t.goodsName),s.push(t.saleNum)}),console.log(i,s),t.seriesData[0].data=s,t.xAxisData[0].data=i,t.initChart()}})}}},p={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"wrap",attrs:{id:"aaa"}})},staticRenderFns:[]};var g=i("C7Lr")(_,p,!1,function(t){i("T3/U")},"data-v-1e2ef944",null).exports,C=i("4YfN"),y=i.n(C),b={data:function(){return{request:new h,xAxis:{type:"category",data:[]},series:[{name:"销售额",data:[],type:"line",smooth:!0},{name:"订单数",data:[],type:"line",smooth:!0}],period:"0",date:{startDate:this.$utils.getDay(-7),endDate:this.$utils.getDay(0)}}},mounted:function(){this.statisCurve()},methods:{initChart:function(){this.chart=f.a.init(document.getElementById("asa")),this.chart.clear(),this.chart.resize(),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["订单数","销售额"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:this.xAxis,yAxis:{type:"value"},series:this.series})},changeCond:function(){"0"===this.period?(this.date.startDate=this.$utils.getDay(-7),this.date.endDate=this.$utils.getDay(0)):"1"===this.period&&(this.date.startDate=this.$utils.getDay(-30),this.date.endDate=this.$utils.getDay(0)),this.statisCurve()},statisCurve:function(){var t=this;this.request.statisCurve(y()({},this.date)).then(function(e){if(200===e.code){var i=[],s=[],a=[];e.ext.forEach(function(t){i.push(t.buyDate),s.push(t.amount),a.push(t.orderNum)}),t.xAxis.data=i,t.series[0].data=s,t.series[1].data=a,t.initChart()}})}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-tabs",{attrs:{type:"card"},on:{"tab-click":t.changeCond},model:{value:t.period,callback:function(e){t.period=e},expression:"period"}},[i("el-tab-pane",{attrs:{label:"近七日销售额曲线",name:"0"}}),t._v(" "),i("el-tab-pane",{attrs:{label:"近一月销售额曲线",name:"1"}}),t._v(" "),i("div",{staticClass:"draw",attrs:{id:"asa"}})],1)],1)},staticRenderFns:[]};var D={data:function(){return{request:new h,seriesData:[{name:"分类占比",type:"pie",radius:"55%",center:["50%","60%"],data:[{value:335,name:"直接访问"},{value:310,name:"邮件营销"},{value:234,name:"联盟广告"},{value:135,name:"视频广告"},{value:1548,name:"搜索引擎"}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],legendData:{orient:"vertical",left:"left",data:[]}}},watch:{},mounted:function(){this.categoryPercent()},methods:{initChart:function(){this.chart=f.a.init(document.getElementById("sss")),this.chart.setOption({title:{text:"分类销量占比",subtext:"",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:this.legendData,series:this.seriesData})},categoryPercent:function(){var t=this;this.request.categoryPercent({dateOffset:6}).then(function(e){if(200===e.code){var i=[],s=[];e.ext.sort(function(t,e){return e.num-t.num}),e.ext.forEach(function(t){i.push({value:t.num,name:t.categoryName}),s.push(t.categoryName)}),t.legendData.data=s,t.seriesData[0].data=i,t.initChart()}})}}},w={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"wrap",attrs:{id:"sss"}})},staticRenderFns:[]};var j={data:function(){return{request:new h,obj:{}}},watch:{},mounted:function(){this.getOverView()},methods:{getOverView:function(){var t=this;this.request.overview().then(function(e){200===e.code?t.obj=e.ext:t.$message.warning(e.msg)}).catch(function(e){t.$message.warning(e)})}}},$={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"item item-1"},[i("div",{staticClass:"item-title"},[t._v("订单总数")]),t._v(" "),i("div",{staticClass:"item-cont"},[t._v(t._s(t.obj.orderNum))])]),t._v(" "),i("div",{staticClass:"item item-2"},[i("div",{staticClass:"item-title"},[t._v("销售总额")]),t._v(" "),i("div",{staticClass:"item-cont"},[t._v(t._s(t.obj.saleAmount))])]),t._v(" "),i("div",{staticClass:"item item-3"},[i("div",{staticClass:"item-title"},[t._v("退货总额")]),t._v(" "),i("div",{staticClass:"item-cont"},[t._v(t._s(t.obj.refundAmount))])]),t._v(" "),i("div",{staticClass:"item item-4"},[i("div",{staticClass:"item-title"},[t._v("新增商户")]),t._v(" "),i("div",{staticClass:"item-cont"},[t._v(t._s(t.obj.newUser))])]),t._v(" "),i("div",{staticClass:"item item-5",staticStyle:{"background-color":"#f1572d"}},[i("div",{staticClass:"item-title"},[t._v("商家总数")]),t._v(" "),i("div",{staticClass:"item-cont"},[t._v(t._s(t.obj.buyerNum))])])])},staticRenderFns:[]};var O={data:function(){return{request:new h,todayObj:{},yesterdayObj:{}}},watch:{},mounted:function(){this.todayReport(),this.yesterdayReport()},methods:{todayReport:function(){var t=this;this.request.briefReport({startDate:this.$utils.getDay(0),endDate:this.$utils.getDay(0)}).then(function(e){200===e.code?t.todayObj=e.ext:t.$message.warning(e.msg)}).catch(function(e){t.$message.warning(e)})},yesterdayReport:function(){var t=this;this.request.briefReport({startDate:this.$utils.getDay(-1),endDate:this.$utils.getDay(-1)}).then(function(e){200===e.code?t.yesterdayObj=e.ext:t.$message.warning(e.msg)}).catch(function(e){t.$message.warning(e)})}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"item item-1"},[i("div",{staticClass:"item-title"},[t._v("今日下单金额（元）"),i("p",[t._v(t._s(t.todayObj.orderAmount||0))])]),t._v(" "),t._m(0)]),t._v(" "),i("div",{staticClass:"item item-2"},[i("div",{staticClass:"item-title"},[t._v("今日订单数（笔）"),i("p",[t._v(t._s(t.todayObj.orderNum||0))])]),t._v(" "),t._m(1)]),t._v(" "),i("div",{staticClass:"item item-3"},[i("div",{staticClass:"item-title"},[t._v("今日客单价（元）"),i("p",[t._v(t._s(t.todayObj.avgPrice||0))])]),t._v(" "),t._m(2)]),t._v(" "),i("div",{staticClass:"item item-4"},[i("div",{staticClass:"item-title"},[t._v("昨日下单金额（元）"),i("p",[t._v(t._s(t.yesterdayObj.orderAmount))])]),t._v(" "),i("div",{staticClass:"item-icon item-icon-4"},[i("p",[t._v("订单数"+t._s(t.yesterdayObj.orderNum||0)+"笔")]),t._v(" "),i("p",[t._v("客单价"+t._s(t.yesterdayObj.avgPrice||0)+"元")])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-icon item-icon-1"},[e("i",{staticClass:"el-icon-tickets"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-icon item-icon-2"},[e("i",{staticClass:"el-icon-refresh"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item-icon item-icon-3"},[e("i",{staticClass:"el-icon-view"})])}]};var E={data:function(){return{request:new h,obj:{}}},watch:{},mounted:function(){this.orderDeal()},methods:{orderDeal:function(){var t=this;this.request.orderDeal({startDate:this.$utils.getDay(0),endDate:this.$utils.getDay(0)}).then(function(e){200===e.code?t.obj=e.ext:t.$message.warning(e.msg)}).catch(function(e){t.$message.warning(e)})}}},L={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[t._m(0),t._v(" "),i("ul",[i("Li",{staticClass:"item"},[i("div",{staticClass:"item-left"},[t._v("待汇总")]),t._v(" "),i("div",{staticClass:"item-right"},[t._v(t._s(t.obj.waitSummary)+"单")])]),t._v(" "),i("Li",{staticClass:"item"},[i("div",{staticClass:"item-left"},[t._v("待分拣")]),t._v(" "),i("div",{staticClass:"item-right"},[t._v(t._s(t.obj.sortout)+"单")])]),t._v(" "),i("Li",{staticClass:"item"},[i("div",{staticClass:"item-left"},[t._v("待报价")]),t._v(" "),i("div",{staticClass:"item-right"},[t._v(t._s(t.obj.offerPrice)+"单")])]),t._v(" "),i("Li",{staticClass:"item"},[i("div",{staticClass:"item-left"},[t._v("待确认")]),t._v(" "),i("div",{staticClass:"item-right"},[t._v(t._s(t.obj.confirm)+"单")])]),t._v(" "),i("Li",{staticClass:"item"},[i("div",{staticClass:"item-left"},[t._v("待配送")]),t._v(" "),i("div",{staticClass:"item-right"},[t._v(t._s(t.obj.delivering)+"单")])]),t._v(" "),i("Li",{staticClass:"item"},[i("div",{staticClass:"item-left"},[t._v("待支付结款单")]),t._v(" "),i("div",{staticClass:"item-right"},[t._v(t._s(t.obj.notPay)+"单")])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title"},[this._v("待处理单据 "),e("i",{staticClass:"el-icon-warning"})])}]};var R={data:function(){return{period:"0"}},components:{vBarChart:g,vLineChart:i("C7Lr")(b,x,!1,function(t){i("gks3")},"data-v-d66a272a",null).exports,vPieChart:i("C7Lr")(D,w,!1,function(t){i("SqQU")},"data-v-226670a0",null).exports,vTitle:i("C7Lr")(j,$,!1,function(t){i("PtIS")},"data-v-4eb15d9a",null).exports,vOrderDetail:i("C7Lr")(O,k,!1,function(t){i("jk+Y")},"data-v-85c1f2ec",null).exports,vWaitingOrder:i("C7Lr")(E,L,!1,function(t){i("Hkcj")},"data-v-9901a678",null).exports},watch:{},mounted:function(){this.initChart()},methods:{initChart:function(){}}},q={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"title"},[e("v-title")],1),this._v(" "),e("div",{staticClass:"chart"},[e("div",{staticClass:"chart-line-1"},[e("v-line-chart",{attrs:{period:this.period}})],1),this._v(" "),e("v-order-detail"),this._v(" "),e("div",{staticClass:"chart-line-2"},[e("div",{staticClass:"line-2-item"},[e("v-bar-chart")],1),this._v(" "),e("div",{staticClass:"line-2-item"},[e("v-pie-chart")],1),this._v(" "),e("div",{staticClass:"line-2-item-list"},[e("v-waiting-order")],1)])],1),this._v(" "),e("div",{staticClass:"bottom"})])},staticRenderFns:[]};var A=i("C7Lr")(R,q,!1,function(t){i("Ro1C")},"data-v-1217bfae",null);e.default=A.exports},Hkcj:function(t,e){},PtIS:function(t,e){},Ro1C:function(t,e){},SqQU:function(t,e){},"T3/U":function(t,e){},gks3:function(t,e){},"jk+Y":function(t,e){}});