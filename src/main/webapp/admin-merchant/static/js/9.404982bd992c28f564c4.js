webpackJsonp([9],{IENK:function(e,t){},X8rD:function(e,t){},l4hQ:function(e,t){},mIej:function(e,t){},rHSL:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s("4YfN"),r=s.n(o),i=s("aA9S"),a=s.n(i),n=s("a3Yh"),l=s.n(n),d=s("5JDp"),c={customerRules:{telephone:[{required:!0,message:"请输入采购商信息"}],deliveryTime:[{required:!0,message:"请选择配送时间"}],buySeq:[{required:!0,message:"请选择配送时段"}],deliveryType:[{required:!0,message:"请选择配送方式"}]},orderDetailRules:{goodsName:[{required:!0,message:"请输入商品信息"}],goodsId:[{required:!0,message:"请输入商品规格"}],goodsNum:[{required:!0,pattern:/^[1-9]\d*$/,message:"请输入正确的商品数量（正整数）"}]}},u={props:{goods:Object,height:Number,width:Number,inCart:{type:Boolean,default:!1}},data:function(){return{imgSrc:"http://img.1000.com/qm-a-img/prod/000000/34927617f8d8317ecffcca63c8360135.jpg@160w_160h.jpg"}},computed:{itemStyle:function(){return"height:"+this.height+"px;width:"+this.width+"px;"},imgStyle:function(){return"width:"+(this.height-10)+"px;height:"+(this.height-10)+"px;"},computedPrice:function(){return(this.goods.goodsPrice||this.goods.marketPrice)*this.goods.goodsNum}},watch:{},mounted:function(){},methods:{}},m={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"goods-item",style:e.itemStyle},[s("div",{staticClass:"goods-cover"},[e.goods.thumbUrl?s("img",{style:e.imgStyle,attrs:{src:e.goods.thumbUrl+"?x-oss-process=image/resize,w_200"}}):e._e()]),e._v(" "),s("div",{staticClass:"goods-info-wrap"},[s("div",{staticClass:"goods-info"},[s("div",{staticClass:"goods-name"},[e._v(e._s(e.goods.goodsName))]),e._v(" "),e.inCart?s("div",{staticClass:"goods-num"},[s("span",[e._v("x ")]),e._v(e._s(e.goods.goodsNum))]):e._e()]),e._v(" "),s("div",{staticClass:"goods-model"},[e._v("\n            "+e._s(e.goods.goodsModel>0?"多规格":"")+"\n        ")]),e._v(" "),e.inCart?s("div",{staticClass:"goods-price"},[e.goods.goodsPrice?s("div",[s("span",{staticClass:"fs14"},[s("span",[e._v("¥ ")]),e._v(e._s(e.goods.goodsPrice))]),e._v(" "),s("span",{staticClass:"fs14 txt-del txt-999"},[s("span",[e._v("¥ ")]),e._v(e._s(e.goods.marketPrice))])]):s("div",{staticClass:"fs14"},[s("span",[e._v("¥ ")]),e._v(e._s(e.goods.marketPrice))]),e._v(" "),s("div",{staticClass:"fs16 txt-red"},[s("span",{staticClass:"fs14"},[e._v("¥ ")]),e._v(e._s(e.computedPrice))])]):e._e(),e._v(" "),e.inCart?e._e():s("div",{staticClass:"goods-price"},[s("div",{staticClass:"fs16 txt-red"},[s("span",{staticClass:"fs14"},[e._v("¥ ")]),e._v(e._s(e.goods.goodsModelList[0].purchasePrice||e.goods.goodsModelList[0].modelPrice))])])])])},staticRenderFns:[]};var h=s("C7Lr")(u,m,!1,function(e){s("w3w5"),s("IENK")},"data-v-b30b5e4a",null).exports,g={data:function(){return{request:new d.a,visibleGoodsModel:!1,goodsList:[],goodsCategories:[],currentPage:1,pageSize:15,categoryId:"",totalCount:0,selectGoodsItem:{},modelId:"",primaryCateId:"",secondCateId:"",loading:!1}},props:{buyerId:String},computed:{primaryCate:function(){return this.goodsCategories.filter(function(e){return 0==e.parentId})},secondCate:function(){var e=this;if(this.primaryCateId)return this.goodsCategories.filter(function(t){return t.parentId==e.primaryCateId})}},components:{goodsItem:h},created:function(){this.fetchCategoryList()},mounted:function(){this.getGoodsList()},methods:{getGoodsList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,t.buyerId=this.buyerId,t.shopId=$constant.shopId,t.pageNo=this.currentPage,t.pageSize=this.pageSize,this.request.getGoodsList(t).then(function(t){e.loading=!1,200==t.code?(e.goodsList=t.ext.list,e.currentPage=t.ext.pageNo,e.totalCount=t.ext.count):"983"==t.code?e.goodsList=[]:e.$message.error("请求失败")})},selectGoods:function(e){this.selectGoodsItem=e,this.$emit("select",e)},handleCurrentChange:function(e){this.currentPage=e,this.getGoodsList({categoryId:this.secondCateId})},fetchCategoryList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,t.shopId=$constant.shopId,this.request.fetchCategoryList(t).then(function(t){"200"==t.code?(e.goodsCategories=t.ext,e.loading=!1):e.$message.error("分类数据, 请求失败")})},selectPrimaryCate:function(e){this.categoryId=e,this.primaryCateId=e;var t=this.secondCate[0].id;this.currentPage=1,this.getGoodsList({categoryId:t})},selectSecondCate:function(e){this.secondCateId=e,this.categoryId=e,this.currentPage=1,this.getGoodsList({categoryId:e})}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:["goods-list-wrap",e.categoryId?"wrap-with-cate":""]},[s("div",{staticClass:"goods-list"},[s("div",{staticClass:"goods-aside"},[s("el-menu",{attrs:{"default-active":"","active-text-color":"#235073","text-color":"#999"},on:{select:e.selectPrimaryCate}},[s("el-menu-item",{attrs:{index:""}},[e._v("全部")]),e._v(" "),e._l(e.primaryCate,function(t,o){return s("el-menu-item",{key:o,attrs:{index:t.id}},[e._v("\n                    "+e._s(t.name)+"\n                ")])})],2)],1),e._v(" "),s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"goods-wrap"},[e.categoryId?s("div",{staticClass:"goods-header"},[s("div",{staticStyle:{width:"600px"}},[s("el-menu",{attrs:{"default-active":e.secondCate[0].id,mode:"horizontal","active-text-color":"#235073","text-color":"#999"},on:{select:e.selectSecondCate}},e._l(e.secondCate,function(t,o){return s("el-menu-item",{key:o,attrs:{index:t.id}},[e._v("\n                            "+e._s(t.name)+"\n                        ")])}),1)],1)]):e._e(),e._v(" "),s("div",{staticClass:"goods-body"},[e._l(e.goodsList,function(t,o){return s("div",{key:o,staticClass:"goods-item",on:{click:function(s){return e.selectGoods(t)}}},[s("el-card",{attrs:{shadow:"hover"}},[s("goods-item",{attrs:{height:80,width:300,goods:t}})],1)],1)}),e._v(" "),s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.totalCount,expression:"totalCount"}],attrs:{small:"",layout:"prev, pager, next","page-size":15,"current-page":e.currentPage,total:e.totalCount},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handleCurrentChange}})],2)])])])},staticRenderFns:[]};var p=s("C7Lr")(g,v,!1,function(e){s("X8rD")},"data-v-2f86f285",null).exports,f=s("8uth"),_=s.n(f),b={data:function(){return{request:new d.a,options:this.$dic.buySeqOptions,pmName:this.$utils.getCookie("pmName"),tabStatus:"first",shipfee:0,pageSize:20,pageNo:1,total:0,totalPage:0,totalKinds:0,list:[]}},props:{value:Object,table:Array},watch:{value:{handler:function(e,t){},deep:!0,immediate:!0},table:{handler:function(e,t){e.forEach(function(e){e.charge=+e.purchasePrice*+e.goodsNum,e.charge=e.charge.toFixed(2)})},deep:!0,immediate:!0}},computed:{totalPrice:function(){var e=0;return this.table.forEach(function(t){e+=+t.charge||0}),e.toFixed(2)},totalCharge:function(){return(+this.totalPrice+ +this.shipfee).toFixed(2)},totalNum:function(){var e=0;return this.table.forEach(function(t){t.goodsNum&&(e+=+t.goodsNum)}),e}},methods:{exportExcel:function(){_.a.getExcel("ddd","","分拣单.xls","bb")},checkSupplierList:function(){this.fetchBuyOrderList()},printTable:function(e){var t=this;this.$confirm("你确认已经完成了所有商品的下单并且数据正确？").then(function(e){return t.request.addBuyOrder(t.value)}).then(function(s){if(200===s.code){var o=document.getElementById(e).innerHTML;window.document.body.innerHTML=o,window.print(),location.reload()}else t.$message.warning(s.msg)})}}},y={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.list?s("div",{attrs:{id:"concise"}},[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("table",{attrs:{border:"1",id:"ddd"}},[s("caption",{staticStyle:{"background-color":"white"}},[e._v(e._s(e.pmName)+"-采购单")]),e._v(" "),s("tbody",[s("tr",[s("td",{staticClass:"blod",attrs:{colspan:"2"}},[e._v("采购商名称")]),e._v(" "),s("td",{attrs:{colspan:"2"}},[e._v(e._s(e.value.buyerName))]),e._v(" "),s("td",{staticClass:"blod",attrs:{colspan:"1"}},[e._v("日期")]),e._v(" "),s("td",{attrs:{colspan:"2"}},[e._v(e._s(e.value.deliveryTime))])]),e._v(" "),s("tr",[s("td",{staticClass:"blod",attrs:{colspan:"2"}},[e._v("送货地址")]),e._v(" "),s("td",{attrs:{colspan:"5"}},[e._v(e._s(e.value.address))])]),e._v(" "),e._m(0),e._v(" "),e._m(1),e._v(" "),e._l(e.table,function(t,o){return s("tr",{key:o},[s("td",{staticClass:"blod"},[e._v(e._s(o+1))]),e._v(" "),s("td",[e._v(e._s(t.goodsName))]),e._v(" "),s("td",[e._v(e._s(t.goodsModel))]),e._v(" "),s("td",[e._v(e._s(t.unit))]),e._v(" "),s("td",[e._v(e._s(t.purchasePrice))]),e._v(" "),s("td",[e._v(e._s(t.goodsNum))]),e._v(" "),s("td",[e._v(e._s(t.charge))])])}),e._v(" "),s("tr",[s("td",{attrs:{colspan:"2"}},[e._v("备注")]),e._v(" "),s("td",{staticClass:"print-hidden to-left",attrs:{colspan:"5"}},[s("el-input",{model:{value:e.value.remarks,callback:function(t){e.$set(e.value,"remarks",t)},expression:"value.remarks"}})],1),e._v(" "),s("td",{staticClass:"print-show to-left",attrs:{colspan:"5"}},[e._v(e._s(e.value.remarks))])]),e._v(" "),s("tr",[s("td",{staticClass:"blod",attrs:{colspan:"1",rowspan:"2"}},[e._v("合计")]),e._v(" "),s("td",{staticClass:"blod",attrs:{colspan:"1"}},[e._v("商品种类")]),e._v(" "),s("td",{attrs:{colspan:"2"}},[e._v(e._s(e.table.length))]),e._v(" "),s("td",{staticClass:"blod",attrs:{colspan:"1"}},[e._v("采购数量")]),e._v(" "),s("td",{attrs:{colspan:"2"}},[e._v(e._s(e.totalNum))])]),e._v(" "),s("tr",[s("td",{staticClass:"blod",attrs:{colspan:"1"}},[e._v("商品总价")]),e._v(" "),s("td",{attrs:{colspan:"5"}},[e._v(e._s(e.totalCharge)+"元")])])],2)]),e._v(" "),s("div",{staticClass:"padRight-cons"},[e._v("第一联（记账联）第二联（库房）第三联（采购商）")])]),e._v(" "),e._m(2)]):e._e(),e._v(" "),s("a",{attrs:{id:"bb"},on:{click:e.exportExcel}},[e._v("导出excel")]),e._v(" "),s("a",{on:{click:function(t){return e.printTable("concise")}}},[e._v("打印")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",{attrs:{colspan:"8"}},[this._v(" ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("tr",[s("td",{staticClass:"blod"},[e._v("序号")]),e._v(" "),s("td",{staticClass:"blod"},[e._v("商品名称")]),e._v(" "),s("td",{staticClass:"blod"},[e._v("规格")]),e._v(" "),s("td",{staticClass:"blod"},[e._v("单位")]),e._v(" "),s("td",{staticClass:"blod"},[e._v("价格")]),e._v(" "),s("td",{staticClass:"blod"},[e._v("供应数量")]),e._v(" "),s("td",{staticClass:"blod"},[e._v("商品价格")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("div",{staticClass:"right"},[t("div",{staticClass:"footer-sign"},[t("div",[this._v("签收人：")]),this._v(" "),t("div",[this._v("日期：")])])])])}]};var C={data:function(){var e;return{request:new d.a,customerRules:c.customerRules,orderDetailRules:c.orderDetailRules,disabled:!0,customerOrder:(e={buyerUid:"",buyerId:"",buyerName:"",contact:"",telephone:"",address:"",needNote:"",deliveryTime:this.tomorrow,buySeq:"",genPrice:0,totalNum:0},l()(e,"needNote",""),l()(e,"deliveryType",""),e),orderList:[{goodsId:"",goodsImg:"",goodsName:"",goodsModel:"",goodsNum:"",purchasePrice:"",remarks:"",loading:!1,goodsList:[],goodsModelList:[]}],selectedRowIndex:"",buyerList:[],buySeqs:this.$dic.buySeqOptions,deliveryTypeOptions:this.$dic.deliveryTypeOptions,dialogVisible:!1,printDialogVisible:!1,printTitle:{},printTable:[]}},computed:{tomorrow:function(){var e=new Date+86400;return this.$utils.formatDate(e,"yyyy-MM-dd")}},components:{goodsList:p,printOrder:s("C7Lr")(b,y,!1,function(e){s("l4hQ")},"data-v-4e3b6b8b",null).exports},mounted:function(){this.fetchBuyerList()},methods:{getGoodsList:function(e){return e.shopId=$constant.shopId,e.pageSize=20,e.buyerId=this.customerOrder.buyerId,this.request.getGoodsList(e).then(function(e){if(200==e.code)return e.ext.list;console.log("商品列表获取错误",e.msg)})},fetchBuyerList:function(){var e=this;this.request.getBuyerList().then(function(t){200==t.code&&(e.buyerList=t.ext)})},addBuyOrder:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.request.addBuyOrder(t).then(function(t){if(200==t.code)return t.ext;e.$alert("请重新下单","提交失败",{confirmButtonText:"确定"})})},onBuyerChange:function(e,t){this.disabled=!1;var s=this.buyerList.map(function(e){return e[t]}).indexOf(e);this.setCustomerForm(s)},printOrder:function(){var e=this.customerOrder,t=this.genOrderDetail();a()(e,r()({},t)),this.checkCustomerRule()&&this.checkOrderRule()&&(console.log(e),this.printTitle=e,this.printTable=e.buyOrderDetailList,this.printDialogVisible=!0)},setCustomerForm:function(e){var t=this.buyerList[e];this.$set(this.customerOrder,"buyerUid",t.uid),this.$set(this.customerOrder,"buyerId",t.id),this.$set(this.customerOrder,"buyerName",t.buyerName),this.$set(this.customerOrder,"contact",t.contact),this.$set(this.customerOrder,"telephone",t.telephone),this.$set(this.customerOrder,"address",t.address)},searchGoodsByName:function(e){var t=this;return function(s){if(""!==s){e.loading=!0,console.log("time",s);var o={goodsName:s};t.getGoodsList(o).then(function(s){t.$set(e,"goodsList",s),t.$set(e,"loading",!1)})}}},onGoodsSelectChange:function(e,t){console.log(e,t);var s=t.goodsList.filter(function(t){return t.id==e})[0];console.log(s),t.goodsModelList=s.goodsModelList,this.$set(t,"goodsName",s.goodsName),this.$set(t,"thumbUrl",s.thumbUrl),this.onModelSelectChange(s.goodsModelList[0].id,t),console.log(s),t.goodsModel=""},onModelSelectChange:function(e,t){console.log(e,t);var s=t.goodsModelList.filter(function(t){return t.id===e})[0];this.$set(t,"goodsId",s.id),this.$set(t,"purchasePrice",s.purchasePrice||s.modelPrice),this.$set(t,"goodsImg",s.modelUrl),this.$set(t,"goodsModel",s.modelName),this.$set(t,"unit",s.modelUnit)},showGoodsDialog:function(e,t){this.dialogVisible=!0,this.selectedRowIndex=t},onSelectGoods:function(e){this.dialogVisible=!1;var t=this.selectedRowIndex,s={goodsName:e.goodsName,goodsModelList:e.goodsModelList,goodsNum:"",remarks:"",thumbUrl:e.thumbUrl};this.$set(this.orderList,t,s)},addOrderItem:function(){this.orderList.push({goodsName:"",goodsId:"",goodsImg:"",goodsModel:"",goodsNum:"",purchasePrice:"",unit:"",remarks:""})},delOrderItem:function(e,t){this.orderList.splice(t,1)},resetForm:function(){this.disabled=!0,this.customerOrder={}},submitBuyOrder:function(){var e=this;this.$confirm("您现在已经完成了"+this.orderList.length+"个商品的录入,确认下单？").then(function(t){var s=e.customerOrder,o=e.genOrderDetail();a()(s,r()({},o)),e.checkCustomerRule()&&e.checkOrderRule()&&e.addBuyOrder(s).then(function(t){var s="订单号: "+t.buyId;e.$alert(s,"提交成功",{confirmButtonText:"确定"})}).then(function(){e.customerOrder={},e.disabled=!0,e.orderList=[]})})},genOrderDetail:function(){var e=0;return{buyOrderDetailList:this.orderList.map(function(t,s){return e+=+t.goodsNum*+t.purchasePrice,{goodsId:t.goodsId,goodsImg:t.goodsImg,goodsName:t.goodsName,goodsModel:t.goodsModel,goodsNum:t.goodsNum,purchasePrice:t.purchasePrice,unit:t.unit,remarks:t.remarks}}),genPrice:e.toFixed(2)}},checkCustomerRule:function(){var e=!1;return this.$refs.customerForm.validate(function(t){t?e=t:console.log("客户信息校验错误!!")}),e},checkOrderRule:function(){var e=this,t=!1;return this.orderList.forEach(function(s,o){e.$refs["orderDetail"+o].validate(function(e){e?t=e:console.log("订单信息校验信息!!")})}),t},thStyle:function(){return{background:"#494949",fontSize:"18px",color:"#fff"}}}},w={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"page-wrap"},[s("div",{staticClass:"container buyer-info"},[s("h4",{staticClass:"title"},[e._v("基本信息")]),e._v(" "),s("el-form",{ref:"customerForm",attrs:{rules:e.customerRules,model:e.customerOrder,inline:!0,"label-width":"100px"}},[s("el-form-item",{attrs:{label:"手机:",prop:"telephone"}},[s("el-select",{staticClass:"form-field",attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){return e.onBuyerChange(t,"telephone")}},model:{value:e.customerOrder.telephone,callback:function(t){e.$set(e.customerOrder,"telephone",t)},expression:"customerOrder.telephone"}},e._l(e.buyerList,function(e){return s("el-option",{key:e.telephone,attrs:{label:e.telephone,value:e.telephone}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"联系人:"}},[s("el-select",{staticClass:"form-field",attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){return e.onBuyerChange(t,"contact")}},model:{value:e.customerOrder.contact,callback:function(t){e.$set(e.customerOrder,"contact",t)},expression:"customerOrder.contact"}},e._l(e.buyerList,function(e){return s("el-option",{key:e.contact,attrs:{label:e.contact,value:e.contact}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"采购商名称:"}},[s("el-select",{staticClass:"form-field",attrs:{filterable:"",placeholder:"请选择"},on:{change:function(t){return e.onBuyerChange(t,"buyerName")}},model:{value:e.customerOrder.buyerName,callback:function(t){e.$set(e.customerOrder,"buyerName",t)},expression:"customerOrder.buyerName"}},e._l(e.buyerList,function(e){return s("el-option",{key:e.buyerName,attrs:{label:e.buyerName,value:e.buyerName}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"配送时间:",prop:"deliveryTime"}},[s("el-date-picker",{staticClass:"form-field",attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.customerOrder.deliveryTime,callback:function(t){e.$set(e.customerOrder,"deliveryTime",t)},expression:"customerOrder.deliveryTime"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"配送时段:",prop:"buySeq"}},[s("el-select",{staticClass:"form-field",attrs:{placeholder:"请选择"},model:{value:e.customerOrder.buySeq,callback:function(t){e.$set(e.customerOrder,"buySeq",t)},expression:"customerOrder.buySeq"}},e._l(e.buySeqs,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"配送方式:",prop:"deliveryType"}},[s("el-select",{staticClass:"form-field",attrs:{placeholder:"请选择"},model:{value:e.customerOrder.deliveryType,callback:function(t){e.$set(e.customerOrder,"deliveryType",t)},expression:"customerOrder.deliveryType"}},e._l(e.deliveryTypeOptions,function(e){return s("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"备注:",prop:"needNote"}},[s("el-input",{staticClass:"form-field",attrs:{placeholder:""},model:{value:e.customerOrder.needNote,callback:function(t){e.$set(e.customerOrder,"needNote",t)},expression:"customerOrder.needNote"}})],1),e._v(" "),s("el-form-item",{attrs:{label:" "}},[s("el-button",{attrs:{type:"primary"},on:{click:e.resetForm}},[e._v("重置")])],1)],1)],1),e._v(" "),s("div",{staticClass:"container body"},[s("h4",{staticClass:"title"},[e._v("采购列表")]),e._v(" "),s("el-table",{staticClass:"goods-list",attrs:{"max-height":"450","show-header":!1,data:e.orderList,border:"","header-cell-style":e.thStyle}},[s("el-table-column",{attrs:{width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("div",{staticStyle:{"text-align":"center"}},[e._v(e._s(t.$index+1))])]}}])}),e._v(" "),s("el-table-column",{attrs:{type:"index",width:"100"},scopedSlots:e._u([{key:"default",fn:function(e){return[s("img",{staticStyle:{display:"block",width:"50px",height:"50px"},attrs:{src:e.row.thumbUrl+"?x-oss-process=image/resize,w_200",alt:""}})]}}])}),e._v(" "),s("el-table-column",{attrs:{prop:"buyerName"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-form",{ref:"orderDetail"+t.$index,staticClass:"demo-form-inline",attrs:{rules:e.orderDetailRules,inline:!0,model:t.row,"label-width":"60px"}},[s("el-row",{staticClass:"row"},[s("el-form-item",{attrs:{label:"商品名称:",prop:"goodsName","label-width":"100px"}},[s("el-select",{staticClass:"form-field--large",attrs:{disabled:e.disabled,filterable:"",remote:"","remote-method":e.searchGoodsByName(t.row),loading:t.row.loading,placeholder:"请输入商品名称"},on:{change:function(s){return e.onGoodsSelectChange(s,t.row)}},model:{value:t.row.goodsName,callback:function(s){e.$set(t.row,"goodsName",s)},expression:"scope.row.goodsName"}},e._l(t.row.goodsList,function(e){return s("el-option",{key:e.id,attrs:{label:e.goodsName,value:e.id}})}),1),e._v(" "),s("el-button",{attrs:{type:"text",disabled:e.disabled},on:{click:function(s){return e.showGoodsDialog(s,t.$index)}}},[e._v("所有商品\n                                ")])],1),e._v(" "),s("el-form-item",{attrs:{label:"规格:",prop:"goodsId"}},[s("el-select",{staticClass:"form-field",attrs:{placeholder:"请选择"},on:{change:function(s){return e.onModelSelectChange(s,t.row)}},model:{value:t.row.goodsId,callback:function(s){e.$set(t.row,"goodsId",s)},expression:"scope.row.goodsId"}},e._l(t.row.goodsModelList,function(e){return s("el-option",{key:e.id,attrs:{label:e.modelName,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"售价:"}},[s("el-input",{staticClass:"form-field--small",attrs:{placeholder:"售价",readonly:""},model:{value:t.row.purchasePrice,callback:function(s){e.$set(t.row,"purchasePrice",s)},expression:"scope.row.purchasePrice"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"数量:",prop:"goodsNum"}},[s("el-input",{staticClass:"form-field-small",attrs:{placeholder:"采购数量"},model:{value:t.row.goodsNum,callback:function(s){e.$set(t.row,"goodsNum",s)},expression:"scope.row.goodsNum"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"备注:"}},[s("el-input",{staticClass:"form-field",attrs:{placeholder:"备注"},model:{value:t.row.remarks,callback:function(s){e.$set(t.row,"remarks",s)},expression:"scope.row.remarks"}})],1)],1)],1)]}}])}),e._v(" "),s("el-table-column",{attrs:{width:"120",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("el-button",{attrs:{type:"danger",plain:"",icon:"el-icon-hh-delete"},on:{click:function(s){return e.delOrderItem(t.row,t.$index)}}},[e._v("删除\n                    ")])]}}])})],1),e._v(" "),s("div",{staticStyle:{"margin-top":"10px"}},[s("el-button",{attrs:{type:"primary",plain:"",icon:"el-icon-hh-add1"},on:{click:e.addOrderItem}},[e._v("增加\n            ")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.submitBuyOrder}},[e._v("提交订单\n            ")])],1),e._v(" "),s("el-dialog",{attrs:{title:"选择商品",visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[s("goods-list",{attrs:{"buyer-id":e.customerOrder.buyerId},on:{select:e.onSelectGoods}})],1)],1)])},staticRenderFns:[]};var x=s("C7Lr")(C,w,!1,function(e){s("mIej")},"data-v-61c2d324",null);t.default=x.exports},w3w5:function(e,t){}});